<img src="https://capsule-render.vercel.app/api?type=waving&color=BDBDC8&height=150&section=header" width="100%" >


# Newstock
뉴스와 함께 하는 똑똑한 투자! “**NewStock**”

경제 뉴스로 투자 안목을 키우고, 모의 투자로 실전 감각까지 다지는 빅데이터 플랫폼

`SSAFY 11th 빅데이터(분산) PJT`

`개발기간: 24.08.26 ~ 24.10.11 (7주)`

![image (21).png](Picture/blueLogo.png)


# 목차
1. [서비스 소개](#-서비스-소개)
2. [화면 소개](#-화면-소개)
3. [기술 스택](#-기술-스택)
4. [서비스 아키텍처](#-서비스-아키텍처)
5. [프로젝트 산출물](#-프로젝트-산출물)
6. [팀원 구성](#-팀원-구성)


---

# ✨ 서비스 소개
![메인페이지](https://github.com/user-attachments/assets/db6ec033-055f-4520-9414-09c8921afdbf)
## 기획 배경

많은 투자자들이 주식 투자를 할 때 최신 경제 뉴스와 산업 동향을 참고하지만, 기존의 정보 제공 플랫폼은 정보가 지나치게 많고 비효율적으로 제공되는 경우가 많았습니다. 이를 해결하기 위해, 우리는 뉴스와 주식 정보를 하나의 플랫폼에서 통합하여 누구나 쉽게 이해하고 활용할 수 있도록 기획하였습니다.

**AS-IS**
- 뉴스 어쩌구저쩌구

**TO-BE**
- 투비 어쩌구 저쩌구

### 타켓
- 타겟층 적기




## 주요기능 🔍

<div align="center">

### 📌 뉴스 제공 기능

    - Newstock은 경제 뉴스를 "시황 뉴스"와 "종목 뉴스"로 구분하여 제공합니다.
      - 시황 뉴스: 경제와 금융 시장의 거시적인 흐름을 보여주는 뉴스
      - 종목 뉴스: 특정 기업이나 종목의 실적, 이슈와 관련된 뉴스
    - 감정 분석 기술을 통해 뉴스가 긍정적인지 부정적인지를 파악하여 사용자가 더 나은 투자 결정을 할 수 있도록 지원합니다.

### 📌 모의 투자 기능

    - 실제 주식 시장 데이터를 기반으로 가상 포인트를 사용해 모의 투자를 할 수 있습니다.
    - 차트 검색 기능: 사용자가 설정한 기간의 뉴스와 시황을 자동으로 분석 및 요약하여 복잡한 시장 정보를 한눈에 파악할 수 있습니다.
    - 차트 유사도 분석: 과거 주가 패턴과 유사한 차트를 찾아 제공하며, 당시의 뉴스와 시황도 요약해서 보여줍니다.

### 📌 편의 기능

    - 스크랩 기능: 원하는 뉴스를 저장할 수 있습니다.
    - AI 챗봇 기능: 검색 증강 생성을 활용해 필요한 정보를 빠르게 찾을 수 있도록 돕습니다.
    - 랭킹 시스템: 모의 투자에서 높은 수익을 기록한 사용자를 위한 게이미피케이션 요소를 추가했습니다.

</div>

# 💻 화면 소개
<details>
 <summary>📢 화면 소개</summary>
 <div markdonw="1">
  
![슬라이드1](https://github.com/user-attachments/assets/c96bc0e0-7cc8-42b7-83fa-5aea529b1ca3)

 </div>
</details>


# 🛠 기술 스택
<div align="center">

### Frontend

![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white)
![React-Query](https://img.shields.io/badge/React_Query-FF4154?style=for-the-badge&logo=ReactQuery&logoColor=white)

![React-Router](https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white)
![Styled-Component](https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-B73BFE?style=for-the-badge&logo=vite&logoColor=FFD62E)

### Infrastructure

![Jenkins](https://img.shields.io/badge/jenkins-%232C5263.svg?style=for-the-badge&logo=jenkins&logoColor=white)
![Nginx](https://img.shields.io/badge/nginx-%23009639.svg?style=for-the-badge&logo=nginx&logoColor=white)

### Backend

![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)
![JWT](https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens)
<img src ="https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=Spring-Security&logoColor=white">
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">

### DB

![Redis](https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white)
![SQLite](https://img.shields.io/badge/sqlite-%2307405e.svg?style=for-the-badge&logo=sqlite&logoColor=white)
![MySQL](https://img.shields.io/badge/mysql-4479A1.svg?style=for-the-badge&logo=mysql&logoColor=white)

### Data

![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

</div>

## 1. 코스피 주식 정보
![한투증 정보](https://github.com/user-attachments/assets/b85ea2b4-722f-4754-b1a7-1239c4e6d95d)
### WebSocket
> Websocket이란 ws 프로토콜을 기반으로 클라이언트와 서버 사이에 지속적인 양방향 연결 스트림을 만들어주는 기술입니다. 이는 stateless한 성질을 가지는 HTTP 일부 통신의 한계를 극복해 주는 것으로 서버는 클라이언트에 데이터를 실시간으로 전달할 수 있게 됩니다.

### Redis
> Redis는 주로 애플리케이션 캐시나 빠른 응답 속도를 가진 데이터베이스로 사용되는 오픈 소스 In-Memory NoSQL 저장소 입니다.

### Spring Scheduler
> Spring Scheduler는 특정 작업을 지정된 주기로 자동 실행하도록 설정할 수 있는 기능으로, 정기적인 데이터 업데이트와 관리 작업을 처리하는 데 유용합니다.

### 조회 로직

1. **실시간 주식 정보 저장 및 갱신**
  - 한국투자증권 웹소켓을 통해 서버가 실시간 주식 정보를 수신하여 Redis에 저장하고, 지속적으로 최신 상태로 갱신합니다.

2. **사용자 실시간 주식 정보 조회**
  - 사용자는 서버와 연결된 웹소켓을 통해 Redis에 저장된 최신 주식 정보를 실시간으로 조회할 수 있습니다.

3. **데이터 일관성 유지**
  - 주식 시장 종료 시각(15:30)에 Spring Scheduler를 사용하여 Redis에 저장된 모든 주식 정보를 MySQL DB에 업데이트함으로써, 데이터의 영속성과 일관성을 유지합니다.

4. **캐시 미스 처리**
  - 사용자가 특정 주식 정보를 조회할 때 Redis에 해당 정보가 없을 경우, MySQL DB에서 데이터를 조회하여 Redis에 저장하고 사용자에게 제공하여 조회 성능을 향상시킵니다.



# 🎨 서비스 아키텍처
- 수정하기
![](https://i.imgur.com/yinPQjZ.png)


- 사용자의 요청이 `nginx`의 `reverse proxy`를 이용하여 라우팅 됨.
  - `/` 주소에 대해서 frontend page로 라우팅
  - `/api` 주소에 대해서 backend api 요청`주황색` 라인에 대해서 `gitlab-runner`를 이용하여 자동 배포를 위한 `cicd` 구축
  - `openvidu` 는 backend에서 사용자 인증 후에 `8443` 포트의 openvidu backend server에서 `token` 반환
- `Jenkinsfile` 을 통한 깃허브, 깃랩 자동 CI/CD 구현

# 📚 프로젝트 산출물

## 1. Figma(https://ko.fm/7HO)
![사르르-프로토타입](https://github.com/user-attachments/assets/4d057112-9fc5-4685-bb22-89094c2c223f)

## 2. ERD
![ERD](https://github.com/user-attachments/assets/a4abc0a0-c634-49ad-bb9f-0ac908a22fc4)

## 3. 요구사항 명세서
![요구사항명세서](https://github.com/user-attachments/assets/ab43c099-70f7-4f5b-bcd5-f5465ed09d0f)

## 4. 시연 영상
<details>
 <summary>📢 기능 GIF</summary>
 <div markdonw="1">
  
### 뉴스
![뉴스_조회](/uploads/49ba90a17bbdd05e4a8e40664d25025b/뉴스_조회.gif) 
### 3줄 요약
![뉴스_3줄_요약](/uploads/27a56e2eef926a20b9129618c8d0af21/뉴스_3줄_요약.gif)
### 뉴스 북마크
![뉴스_저장](/uploads/645ea50a249de72bec24f54a33ff93fb/뉴스_저장.gif)
### 실시간 주식
![실시간_주식](/uploads/6c069306f83c36ad0021ca63dec2d859/실시간_주식.gif)
### 주식 매수
![주식_매수](/uploads/446a7f81e85fcb3ee3b4ab2a733882f5/주식_매수.gif)
### 차트 분석
![차트_분석](/uploads/34bcbe8846f6f88c90aa681fed4923e6/차트_분석.gif)
### 유사도 검색
![유사도_검색](/uploads/14da743aca57f0425666fa6e85a16316/유사도_검색.gif)

 </div>
</details>

<details>
 <summary>📢 화면 소개</summary>
 <div markdonw="1">
  
![뉴스](/uploads/ab5096b60567ca04b05ecd719cf30774/뉴스.mov)

![주식](/uploads/18385272fa830f240fecda95a0421842/주식.mov)

![주식기능](/uploads/f64df2a8b6ee94f4084609f11f80ded9/주식기능.mov)

![AI챗봇](/uploads/e99c36c40b962e669d6a6c5f5aff46be/AI챗봇.mov)

![온보딩](/uploads/b55f2dd157fb206baff49657789e88a5/온보딩.mov)

![다크모드](/uploads/3c2d051ea54814748a7f371a155d8c41/다크모드.mov)

 </div>
</details>



# 👨‍👨‍👧‍👦 팀원 구성

<table>
  <tbody>
    <tr>
      <td align="center">
        <img src="Picture/sunhong.png" alt="DATA/BE 팀장 : 박선홍" width="100px"/>
        <br />
        <sub><b>BE/DATA 팀장 : 박선홍</b></sub>
      </td>
      <td align="center">
        <img src="Picture/minho.png" alt="BE 부팀장 : 고민호" width="100px"/>
        <br />
        <sub><b>BE LEADER 팀원 : 고민호</b></sub>
      </td>
      <td align="center">
        <img src="Picture/jisuck.png" alt="BE 팀원 : 손지석" width="100px"/>
        <br />
        <sub><b>BE/INFRA 팀원 : 손지석</b></sub>
      </td>
      <td align="center">
        <img src="Picture/my.png" alt="FE 팀원 : 이명욱" width="100px"/>
        <br />
        <sub><b>FE LEADER 팀원 : 이명욱</b></sub>
      </td>
      <td align="center">
        <img src="Picture/jj.png" alt="FE 팀원 : 이정준" width="100px"/>
        <br />
        <sub><b>FE 팀원 : 이정준</b></sub>
      </td>
      <td align="center">
        <img src="Picture/jh.png" alt="FE 팀원 : 이주호" width="100px"/>
        <br />
        <sub><b>FE 팀원 : 이주호</b></sub>
      </td>
    </tr>
  </tbody>
</table>
<hr/>

✔ 박선홍
  - Airflow를 활용한 데이터 수집, 전처리 워크플로우 제작
  - 경제 뉴스 스크레이핑 및 수집, 전처리
  - 수집한 경제 뉴스 HBase 및 ElasticSearch에 적재
  - 데이터 전처리 시 광고 필터링 모델 transfer-learning
  - Hadoop Ecosystem 기반 fully-distributed system 인프라 구축
  - 뉴스 3줄 요약, 유사 차트 검색, 시황 요약 서비스 및 API 개발
  - RAG 기반 챗봇 제작

✔ 고민호
  - 주식

✔ 손지석
  - MSA 아키텍쳐 설계 및 배포
  - k8s 아키텍쳐 설계 및 구현
  - HBase 및 Apache Phoenix 기반의 뉴스데이터 서버 구축
  - Jenkins, k8s를 통한 자동 배포 파이프라인 구축
  - JPA 및 MySQL 기반의 [뉴스, 관심 뉴스, 뉴스 스크랩] 서버 구축
  - Java 및 Springboot 기반의 Member 서버 구축
  - Kakao, Google OAuth 기반의 OAuth 서버 구축
  
✔ 이명욱
  - 전체 페이지 스켈레톤 UI 구현 및 리액트 쿼리를 활용한 응답 데이터 캐싱으로 사용자 경험 향상
  - styled componet를 활용한 라이트, 다크 모드 구현
  - 주가 변화에 따른 주식 차트 시각화(실시간, 월봉 캔들 차트)
  - 모의 주식 매도, 매수 기능 API 연결 및 구현
  - 주식 차트 분석, 주식 차트 유사도 검색, 뉴스 요약하기 기능 API 연결 및 구현
  - 주식 관련 페이지 구현 (전체 종목 조회 및 검색 기능, 분야별 주식 조회, 주식 종목 상세페이지)
  - 종목 뉴스와 관련 주식 종목 매핑 및 주식 상세 페이지 이동 기능 연결
  - 로그인 기능 연결 및 zustand를 통한 로그인/로그아웃 유저 상태 관리
  - ESLint, Prettier 설정 등 프론트 개발 환경 세팅
  - Figma를 활용한 와이어프레임 및 디자인 구성

✔ 이정준
  - 뉴스 메인 페이지 UI 및 API 연결
  - 시황/종목 뉴스 페이지 UI 및 API 연결
  - AI 챗봇 UI 구현
  - 뉴스 북마크 UI 및 API 연결
  - 뉴스 스크랩 조회, 작성, 수정, 삭제 관련 UI 및 API 연결

✔ 이주호
  - 소방관
  - 주식 마이페이지 UI 및 API 연결
  - LeftNavBar UI 구현
  - (RightNav)보유 주식, 거래내역, 관심 종목, 관심 뉴스, 주식 랭킹 API 연결
  - 사용자 포인트 웹소켓 연결
  - BoardingPage UI 구현
  - AI 챗봇 API 연결


<img src="https://capsule-render.vercel.app/api?type=waving&color=BDBDC8&height=150&section=footer" width="100%" >
